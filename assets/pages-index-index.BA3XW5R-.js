import{r as a,a as s,c as t,w as e,i,o as n,b as l,d,e as o,F as c,f as h,g as r,S as u,h as g,n as p,t as f}from"./index-BXsH0Sxf.js";import{r as m,_,a as v}from"./noData.CFAYjOOs.js";import{_ as k}from"./_plugin-vue_export-helper.BCo6x5W8.js";const w=k({data:()=>({title:"首页",tab:[],navIndex:0,datas:[],currentPage:1,id:50,loading:0}),onLoad(){this.getNav(),console.log("首页")},onReachBottom(){2!=this.loading&&(this.getNewsData(),this.loading=1,this.currentPage++)},methods:{clickNav(a,s){this.datas=[],this.navIndex=a,this.id=s,this.currentPage=1,this.loading=0,this.getNewsData()},getNav(){a({url:"https://ku.qingnian8.com/dataApi/news/navlist.php",success:a=>{this.tab=a.data,this.id=this.tab[this.navIndex].id,this.getNewsData()}})},getNewsData(){a({url:"https://ku.qingnian8.com/dataApi/news/newslist.php",data:{cid:this.id,page:this.currentPage},success:a=>{this.datas=[...this.datas,...a.data],0==a.data.length&&this.currentPage>1&&(this.loading=2)}})}}},[["render",function(a,k,w,x,N,b){const y=i,D=u,I=g,P=m(s("newbox"),_);return n(),t(y,{class:"home"},{default:e((()=>[l(y,{class:"scrollNav"},{default:e((()=>[l(D,{"scroll-x":"",class:"navscroll"},{default:e((()=>[(n(!0),d(c,null,o(N.tab,((a,s)=>(n(),t(y,{class:p(["item",N.navIndex==s?"active":""]),onClick:t=>b.clickNav(s,a.id),key:a.id},{default:e((()=>[h(f(a.classname),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),N.datas.length<=0?(n(),t(y,{key:0,class:"noData"},{default:e((()=>[l(I,{src:v,mode:"widthFix"})])),_:1})):(n(),t(y,{key:1,class:"content"},{default:e((()=>[(n(!0),d(c,null,o(N.datas,((a,s)=>(n(),t(y,{class:"row",key:a.id},{default:e((()=>[l(P,{item:a},null,8,["item"])])),_:2},1024)))),128))])),_:1})),l(y,{class:"loading"},{default:e((()=>[1==N.loading?(n(),t(y,{key:0},{default:e((()=>[h("数据加载中...")])),_:1})):r("",!0),2==N.loading?(n(),t(y,{key:1},{default:e((()=>[h("没有更多数据了~")])),_:1})):r("",!0)])),_:1})])),_:1})}],["__scopeId","data-v-ea756736"]]);export{w as default};
