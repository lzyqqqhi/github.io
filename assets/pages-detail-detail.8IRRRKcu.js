import{r as t,s as a,j as e,m as s,c as i,w as d,i as o,o as n,b as l,f as r,t as c,p as u}from"./index-BXsH0Sxf.js";import{_ as p}from"./_plugin-vue_export-helper.BCo6x5W8.js";function h(t,a){if(0===arguments.length)return null;const e=a||"{y}-{m}-{d} {h}:{i}:{s}";let s;"object"==typeof t?s=t:("string"==typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t)),"number"==typeof t&&10===t.toString().length&&(t*=1e3),s=new Date(t));const i={y:s.getFullYear(),m:s.getMonth()+1,d:s.getDate(),h:s.getHours(),i:s.getMinutes(),s:s.getSeconds(),a:s.getDay()},d=e.replace(/{([ymdhisa])+}/g,((t,a)=>{const e=i[a];return"a"===a?["日","一","二","三","四","五","六"][e]:e.toString().padStart(2,"0")}));return d}const f=p({data:()=>({option:{},data:{}}),onLoad(t){this.option=t,this.getDetail()},methods:{getDetail(){t({url:"https://ku.qingnian8.com/dataApi/news/detail.php",data:this.option,success:t=>{t.data.posttime=h(t.data.posttime),t.data.content=t.data.content.replace(/<img/gi,'<img style="max-width:100%"'),this.data=t.data,this.saveHistory(),a({title:this.data.title})}})},saveHistory(){let t={id:this.data.id,classid:this.data.classid,picurl:this.data.picurl,title:this.data.title,looktime:h(Date.now())},a=e("historyArr")||[],i=a.findIndex((t=>t.id==this.data.id));i>=0&&a.splice(i,1),a.unshift(t),a=a.slice(0,10),s("historyArr",a)}}},[["render",function(t,a,e,s,p,h){const f=o,g=u;return n(),i(f,{class:"detail"},{default:d((()=>[l(f,{class:"title"},{default:d((()=>[r(c(p.data.title),1)])),_:1}),l(f,{class:"info"},{default:d((()=>[l(f,{class:"author"},{default:d((()=>[r("编辑："+c(p.data.author),1)])),_:1}),l(f,{class:"time"},{default:d((()=>[r("发布日期："+c(p.data.posttime),1)])),_:1})])),_:1}),l(f,{class:"content"},{default:d((()=>[l(g,{nodes:p.data.content},null,8,["nodes"])])),_:1}),l(f,{class:"description"},{default:d((()=>[r(" 声明:本站的内容均采集与腾讯新闻，如果侵权请联系管理员(513894357@qq.com)进行整改删除，本站进行了内容采集不代表本站及作者观点，若有侵犯请及时联系管理员谢谢您的支持。 ")])),_:1})])),_:1})}],["__scopeId","data-v-d6f5d79c"]]);export{f as default};
